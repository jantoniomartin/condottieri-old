{% extends 'machiavelli/show_game.html' %}

{% load i18n %}

{% block actions %}
<h2>
{% ifequal box 'inbox' %}
{% trans "Received letters" %}
{% endifequal %}
{% ifequal box 'outbox' %}
{% trans "Sent letters" %}
{% endifequal %}
</h2>

<div class="pagination">
	<span class="step-links">
		{% if letters.has_previous %}
			<a href="?page={{ letters.previous_page_number }}">&lt;&lt;</a>
		{% endif %}
		
		<span class="current">
			{% trans "Page" %} {{ letters.number }} {% trans "of" %} {{ letters.paginator.num_pages }}.
		</span>

		{% if letters.has_next %}
			<a href="?page={{ letters.next_page_number }}">&gt;&gt;</a>
		{% endif %}
	</span>
</div>

<table id="letter_box">
<thead>
<tr>
{% ifequal box 'inbox' %}
<th>{% trans "From" %}</th>
{% endifequal %}
{% ifequal box 'outbox' %}
<th>{% trans "To" %}</th>
{% endifequal %}
<th>{% trans "Summary" %}</th>
</tr>
</thead>
{% for letter in letters.object_list %}
<tr>
{% ifequal box 'inbox' %}
<td>{{ letter.sender.country }}</td>
<td>
<a href="{% url show-letter letter.id %}">{{ letter.inbox_color_output|safe }}
</a>
</td>
{% endifequal %}
{% ifequal box 'outbox' %}
<td>{{ letter.receiver.country }}</td>
<td>
<a href="{% url show-letter letter.id %}">{{ letter.outbox_color_output|safe }}
</a>
</td>
{% endifequal %}
</tr>
{% endfor %}
</table>
<p><a href="{% url show-game game.slug %}">{% trans "Return to game" %}</a></p>
{% endblock %}
